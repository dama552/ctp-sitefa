{% extends 'inicio/inicio.html' %}

{% block section %}
<div class="header">
    <h1><i class="fas fa-plus header-icon" style="color: #28a745;"></i> Crear Calificación</h1>
</div>

{# Mostrar errores generales del formulario #}
{% if form.non_field_errors or form.errors %}
    <div class="alert alert-info mt-4" role="alert">
        <strong>Revisa los errores:</strong> corrige los campos marcados.
        {% if form.non_field_errors %}
            <div class="mt-2 text-danger">{{ form.non_field_errors }}</div>
        {% endif %}
    </div>
{% endif %}

<form method="post" class="mt-3">
    {% csrf_token %}

    <div class="mb-3">
        <label for="id_estudiante" class="form-label">Estudiante</label>
        {{ form.estudiante }}
        {% if form.estudiante.errors %}
            <div class="text-danger mt-1">{{ form.estudiante.errors }}</div>
        {% endif %}
    </div>

    <div class="mb-3">
        <label for="id_materia" class="form-label">Materia</label>
        {{ form.materia }}
        {% if form.materia.errors %}
            <div class="text-danger mt-1">{{ form.materia.errors }}</div>
        {% endif %}
    </div>

    <div class="mb-3">
        <label for="id_anio" class="form-label">Año</label>
        {{ form.anio }}
        {% if form.anio.errors %}
            <div class="text-danger mt-1">{{ form.anio.errors }}</div>
        {% endif %}
    </div>

    <div class="mb-3">
        <label for="id_nota" class="form-label">Calificación / Nota</label>
        {{ form.nota }}
        {% if form.nota.errors %}
            <div class="text-danger mt-1">{{ form.nota.errors }}</div>
        {% endif %}
    </div>

    <div class="mb-3">
        <label for="id_fecha" class="form-label">Fecha</label>
        {{ form.fecha }}
        {% if form.fecha.errors %}
            <div class="text-danger mt-1">{{ form.fecha.errors }}</div>
        {% endif %}
    </div>

    <div class="d-flex justify-content-end gap-2 mt-4">
        <a href="/calificacion/leer/" class="btn btn-secondary">
            <i class="fas fa-arrow-left"></i> Cancelar
        </a>
        <button type="submit" class="btn btn-success">
            <i class="fas fa-save"></i> Crear
        </button>
    </div>
</form>
{% endblock section %}